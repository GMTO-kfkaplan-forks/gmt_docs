

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Modules: Subsystem, Packages, Components &mdash; GMT Software And Controls documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="GMT Software And Controls documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> GMT Software And Controls
          

          
            
            <img src="_static/logo.jpg" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="swcs_introduction.html">Introduction</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overall_architecture.html">Overall Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tcs_introduction.html">Telescope Control System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="observatory_services.html">Observatory Services</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="component_frameworks.html">Frameworks</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="platform.html">Platform</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Developer Info and Release Configuration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="services.html">Using the Services</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Running Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dcs_dev_guide.html">Creating a Device Control System (TBR)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contribute.html">Contribute</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">GMT Software And Controls</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Modules: Subsystem, Packages, Components</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/architecture-modules.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="modules-subsystem-packages-components">
<h1>Modules: Subsystem, Packages, Components<a class="headerlink" href="#modules-subsystem-packages-components" title="Permalink to this headline">¶</a></h1>
<p>The SWCS domains (TCS, OPS, OSRV) are each composed of software subsystem
modules. As illustrated in the bottom row of the <a class="reference internal" href="overall_architecture.html#swcs-organization"><em>SWCS Organization</em></a>
figure, each subsystem is then made up of components organized into packages
according to their affinity or relationships. The SWC reference architecture16
defines a guide for organizing subsystem components into a set of canonical
packages.  Examples of packages and their components are shown in Tables on
<a class="reference internal" href="overall_architecture.html#table-control-packages"><em>Control Packages</em></a> and <a class="reference internal" href="overall_architecture.html#figure-core-components"><em>Core Components</em></a>.  Which packages
exist in which subsystem depends on the specific functionality (e.g., some
subsystems do not require special calibration components, or do not interface
with hardware devices). The tables below describe this pattern, split in two
categories:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="overall_architecture.html#table-control-packages"><em>Control Packages</em></a> – These packages are included in
subsystems that involve the control of optomechanical hardware Devices.</li>
<li><a class="reference internal" href="overall_architecture.html#operation-support-packages"><em>Operation Support Packages</em></a> – These
Packages include software components necessary to support health monitoring,
automation, and proper operation of a Subsystem. Diagnosis and calibration
packages are emphasized early on in the design. This is an area that is
often overlooked despite the fact that they may take a significant amount of
development effort, especially in the case of complex adaptive optics
control subsystems.</li>
</ul>
</div></blockquote>
<table border="1" class="docutils" id="table-control-packages">
<caption>Control Packages</caption>
<colgroup>
<col width="22%" />
<col width="56%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3">CONTROL PACKAGES</th>
</tr>
<tr class="row-even"><th class="head">Package Name</th>
<th class="head">Description</th>
<th class="head">Typical Components</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">Device Control</div>
<div class="line">Package</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Contains software Components that implement</div>
<div class="line">the supervisory and control functions of a</div>
<div class="line">Device Control Subsystem (e.g. Mount Control</div>
<div class="line">System Control Package).</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Supervisor,</div>
<div class="line">Controller</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">Data Acquisition</div>
<div class="line">Package</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Contains software Components that implement</div>
<div class="line">the supervisory and data acquisition functions</div>
<div class="line">of a Detector Control Subsystem (e.g., AGWS</div>
<div class="line">Slope Processor Package). Only Subsystems that</div>
<div class="line">include a Wavefront Sensor (WFS),</div>
<div class="line">acquisition/guide camera or a science detector</div>
<div class="line">need to provide a Data Acquisition Package.</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Supervisor,</div>
<div class="line">Controller,</div>
<div class="line">Pipeline,</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">Hardware</div>
<div class="line">Package</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Contains hardware Components in which to</div>
<div class="line">deploy the Device Control or Data Acquisition</div>
<div class="line">Package software Components and the hardware</div>
<div class="line">to interface with the electromechanical</div>
<div class="line">Devices.</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Device Control</div>
<div class="line">Computer,</div>
<div class="line">I/O Module</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils" id="operation-support-packages">
<caption>Operation Support Packages</caption>
<colgroup>
<col width="22%" />
<col width="56%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3">OPERATION SUPPORT PACKAGES</th>
</tr>
<tr class="row-even"><th class="head">Package Name</th>
<th class="head">Description</th>
<th class="head">Typical Components</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">Sequencing</div>
<div class="line">Package</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Contains sequence Components necessary for the</div>
<div class="line">operation of the Subsystem</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Sequence</div>
<div class="line"><br /></div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">Diagnosis</div>
<div class="line">Package</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Contains software Components necessary to</div>
<div class="line">implement diagnosis functions when required.</div>
<div class="line">This may involve the development of special</div>
<div class="line">control or operation modes.</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Supervisor,</div>
<div class="line">Controller,</div>
<div class="line">Pipeline,</div>
<div class="line">Sequence</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">Calibration</div>
<div class="line">Package</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Contains software Components necessary for</div>
<div class="line">the calibration and characterization of</div>
<div class="line">hardware Devices.  This may include the</div>
<div class="line">development of special control or operation</div>
<div class="line">modes.</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Supervisor,</div>
<div class="line">Controller,</div>
<div class="line">Pipeline,</div>
<div class="line">Sequence</div>
<div class="line"><br /></div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">Data Processing</div>
<div class="line">Package</div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Contains software Components necessary for</div>
<div class="line">the calibration and processing of science</div>
<div class="line">and wavefront sensor detectors.</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Supervisor,</div>
<div class="line">Pipeline,</div>
<div class="line"><br /></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">Visualization</div>
<div class="line">Package</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Contains software Components that provide</div>
<div class="line">custom visualizations necessary for the</div>
<div class="line">efficient operation of a given Subsystem (e.g.</div>
<div class="line">M1 global status Panel).  Note that default</div>
<div class="line">engineering Panels are available as part of</div>
<div class="line">the Engineering UI service.</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Panel,</div>
<div class="line">Widget</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">Safety</div>
<div class="line">Package</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Contains hardware/software Components that</div>
<div class="line">implement Subsystem specific safety functions.</div>
<div class="line">These Components often interface with the ISS</div>
<div class="line">but are independent (e.g. M1 safety</div>
<div class="line">controller).</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Supervisor,</div>
<div class="line">Controller,</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">Operation</div>
<div class="line">Workflows</div>
<div class="line">Package</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Contains Components that allow the automation</div>
<div class="line">of high-level operation workflows relative to</div>
<div class="line">the subsystems (e.g. unit test workflow, or</div>
<div class="line">calibration workflow in case that several</div>
<div class="line">sequences and human operations are involved).</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Workflow</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">Management</div>
<div class="line">Package</div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Contains Components that capture the</div>
<div class="line">development backlog and the Assembly</div>
<div class="line">Integration and Testing plans.</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Plan,</div>
<div class="line">Workflow</div>
<div class="line"><br /></div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="figure">
<img alt="_images/m1-control-system-excerpt.png" src="_images/m1-control-system-excerpt.png" />
<p class="caption">M1 Control System Package and Components Excerpt</p>
</div>
<p>The Figure above shows an example of the component organization for the M1 Control
System. The structure of all the SWCS Subsystems has been analyzed and developed
following this pattern. As described above and later in Section 10.3.5.2, domain
engineering helps to identify sets of common components that are the elementary
building blocks of the SWCS subsystems.  The figure on <a class="reference internal" href="overall_architecture.html#figure-core-components"><em>Core Components</em></a>
below shows those core component classes.  Each component is defined by a set of
<a class="reference internal" href="overall_architecture.html#figure-component-features"><em>Component Features</em></a> whose definitions are detailed in Section 10.3.5.5 on
Core Framework. In fact, all SWCS modules, including subsystems, packages, and
components are fully specified by a text file containing their features, as
shown in Table 10-4. Section 10.5.2.3 explains the formal specification process
in more detail.</p>
<div class="figure" id="figure-core-components">
<img alt="_images/core-components.png" src="_images/core-components.png" />
<p class="caption">Core Components</p>
</div>
<div class="figure" id="figure-component-features">
<img alt="_images/component-features.png" src="_images/component-features.png" />
<p class="caption">Component Features</p>
</div>
<p>Each Component has been assigned to a class that defines its default behavior in
the corresponding specification file. <a class="reference internal" href="overall_architecture.html#baselinearaxiscontroller"><em>The following code-block excerpt</em></a> shows an example of the specification file that
defines the interface and features of a BaseLinearAxisController (Section
10.3.5.5.3 provides an overview of common motion control Components). This
specification is based on the IEC 61800-7-20117 Standard. The standard is
concrete, but at the same time is designed to cover a majority of the motion
control use cases. The design process captures when a Component (e.g.,
agws_radial_stage_ctrl) fits this default behavior. This approach provides
several benefits:</p>
<blockquote>
<div><ul class="simple">
<li>The specification of the component captures performance data, interfaces,
etc., all of which are used directly in the final implementation.
Furthermore, the specification closely dovetails a well-developed and
industrial standard, which significantly reduces the effort needed to
capture all the information.  This is in sync with the way industrial
companies specify their subsystems.  This often allows one to implement the
controller in a standard off-the-shelf smart drive, relieving the computing
platform of the responsibility to perform all the real-time functionality.
As the control loops run in dedicated standardized controllers, it is then
feasible to implement a layer that integrates the controller with the rest
of the observatory services using more productive high-level languages
(Section 10.4.6).</li>
<li>The mapping between specification and implementation is as direct as it
gets, and greatly facilitates the traceability of requirements.</li>
<li>The interfaces of similar Components share the same detailed specification
(e.g., the interfaces of all the linear stages are the same). This not only
allows the development of common control Components, but the possibility to
reuse common visualization or calibration Components, as well as testing
procedures.</li>
<li>It is possible to specify accordingly the majority of the elementary degrees
of freedom of the GMT as well as some Axis Groups (e.g.,
BaseLinearXYController for a Cartesian linear stage), as discussed in
Section 10.3.2. It is also possible to incorporate fault management, and
startup/shut down procedures in the same manner modeled using supervisor
components.  Supervisors are usually more specific to the application and
their implementation, thus require more customization. Other domains, like
user interface components or data processing components have been subject to
the same design process. Sections 10.3.5.9 and Section 10.3.5.7 describe
them respectively.</li>
</ul>
</div></blockquote>
<div class="highlight-coffeescript" id="baselinearaxiscontroller"><div class="highlight"><pre><span></span><span class="nv">properties:</span>
    <span class="nv">max_torque:</span>
        <span class="nv">desc: </span>    <span class="s">&quot;This property shall indicate the configured maximum permissible</span>
<span class="s">                   torque in the motor. The value shall be given per thousand of rated</span>
<span class="s">                   torque.&quot;</span>
        <span class="nv">type: </span>    <span class="s">&quot;uint16&quot;</span>
        <span class="nv">pattern: </span> <span class="s">&quot;pull&quot;</span>
        <span class="nv">max_rate: </span><span class="mi">1</span>
        <span class="nv">default: </span> <span class="mi">1000</span>

    <span class="nv">motor_rated_torque:</span>
        <span class="nv">desc: </span>    <span class="s">&quot;This property shall indicate the configured motor rated torque.</span>
<span class="s">                   It is taken from the motors nameplate. All relative torque</span>
<span class="s">                   data shall refer to this value. For linear motors, the object</span>
<span class="s">                   name is not changed, but the motor rated force value shall be</span>
<span class="s">                   entered as multiples of mN (milliNewton). The value shall be</span>
<span class="s">                   given in mNm (milli Newton metre).&quot;</span>
        <span class="nv">type: </span>    <span class="s">&quot;uint32&quot;</span>
        <span class="nv">pattern: </span> <span class="s">&quot;pull&quot;</span>
        <span class="nv">max_rate: </span><span class="mi">1</span>
        <span class="nv">default: </span> <span class="mi">1000</span>

    <span class="nv">motion_profile_type:</span>
        <span class="nv">desc: </span>    <span class="s">&quot;This property shall indicate the configured type of motion profile</span>
<span class="s">                   used to perform a profiled motion.</span>

<span class="s">                     Value        | Definition</span>
<span class="s">                     -------------|----------------------------------</span>
<span class="s">                     -32768 to -1 | Manufacturer-specific</span>
<span class="s">                     0            | Linear ramp (trapezoidal profile)</span>
<span class="s">                     1            | Sin2 ramp</span>
<span class="s">                     2            | Jerk-free ramp</span>
<span class="s">                     3            | Jerk-limited ramp</span>
<span class="s">                     4 to 32767   | Reserved&quot;</span>
        <span class="nv">type: </span>    <span class="s">&quot;int16&quot;</span>
        <span class="nv">pattern: </span> <span class="s">&quot;pull&quot;</span>
        <span class="nv">max_rate: </span><span class="mi">1</span>
        <span class="nv">default: </span> <span class="mi">0</span>
</pre></div>
</div>
<p><em>BaseLinearAxisController Specification File excerpt</em></p>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, contributors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0-rc1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>